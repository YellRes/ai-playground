# 快速开始指南 🚀

## 第一步：安装依赖

```bash
# 进入项目目录
cd langchain/financial-statements

# 激活虚拟环境（如果有的话）
# Windows:
# ..\..\aienv\Scripts\activate
# Linux/Mac:
# source ../../aienv/bin/activate

# 安装依赖
pip install -r requirements.txt
```

## 第二步：配置API密钥

在项目根目录创建 `.env` 文件：

```env
DEEPSEEK_API_KEY=你的DeepSeek_API密钥
```

> 💡 如何获取API密钥：访问 https://platform.deepseek.com/ 注册并获取

## 第三步：运行程序

### 方式1：分析PDF财报（推荐）

```bash
python index.py pdf
```

这将自动加载 `600006_20250830_WOQW.pdf` 并进行全面分析。

**示例输出：**
```
============================================================
🏢 财务报表PDF分析示例
============================================================

============================================================
📝 问题 1: 请加载并分析这个PDF文件：langchain/financial-statements/600006_20250830_WOQW.pdf
============================================================

🤖 AI: 
✅ 成功加载PDF文件！
- 文档页数: 45
- 文本块数: 128
- 已建立向量索引，可以开始查询分析

[AI将自动提取和分析财务数据...]
```

### 方式2：交互式对话

```bash
python index.py interactive
```

然后你可以：

**示例对话1：加载PDF**
```
👤 您: 请加载这个PDF：langchain/financial-statements/600006_20250830_WOQW.pdf
🤖 AI: [加载并显示PDF信息]
```

**示例对话2：查询信息**
```
👤 您: 从PDF中找出营业收入
🤖 AI: [显示营业收入相关信息]
```

**示例对话3：提取数据**
```
👤 您: 提取所有关键财务数据
🤖 AI: [显示所有财务指标]
```

**示例对话4：综合分析**
```
👤 您: 请分析这家公司的整体财务状况
🤖 AI: [提供综合分析报告]
```

**示例对话5：手动数据分析**
```
👤 您: 分析一家公司：营业收入1000万，净利润150万，总资产2000万
🤖 AI: [分析盈利能力]
```

### 方式3：运行示例代码

```bash
# 运行所有示例
python example.py

# 只运行PDF分析示例
python example.py pdf

# 只运行手动数据分析示例
python example.py manual

# 运行逐步分析示例
python example.py step
```

## 常用命令速查 📋

| 命令 | 说明 |
|------|------|
| `python index.py` | 运行基础示例 |
| `python index.py pdf` | PDF财报分析 |
| `python index.py interactive` | 交互式模式 |
| `python example.py` | 运行所有示例 |
| `python example.py pdf` | PDF分析示例 |

## 在交互模式中的特殊命令 💬

- `exit` 或 `quit` - 退出程序
- `clear` - 清除对话历史
- 直接输入问题 - 开始分析

## 常见使用场景 💡

### 场景1：快速分析PDF财报

```python
# 在交互模式中
请加载这个PDF：你的文件路径.pdf
提取所有关键财务数据
分析这家公司的盈利能力、流动性和杠杆
```

### 场景2：对比分析

```python
# 在交互模式中
请加载第一份财报：2024年财报.pdf
提取2024年的数据
清除  # 清除历史
请加载第二份财报：2023年财报.pdf
提取2023年的数据
对比分析这两年的财务状况变化
```

### 场景3：单项指标深入分析

```python
# 在交互模式中
请加载财报：财报.pdf
查找关于现金流量的信息
分析现金流量状况
```

### 场景4：计算特定比率

```python
# 在交互模式中
计算ROE：净利润500万，股东权益5000万
```

## 支持的财务数据类型 📊

程序可以自动提取以下数据：

- ✅ 营业收入
- ✅ 净利润
- ✅ 总资产
- ✅ 总负债
- ✅ 股东权益
- ✅ 流动资产
- ✅ 流动负债
- ✅ 货币资金（现金）

## 支持的分析类型 📈

- 📊 **盈利能力**：利润率、ROA、ROE
- 💰 **流动性**：流动比率、速动比率、现金比率
- 🏦 **杠杆**：资产负债率、利息保障倍数
- 🔢 **自定义比率**：任意分子分母计算

## 故障排除 🔧

### 问题1：找不到模块

```bash
# 解决方案：安装缺失的包
pip install langchain langgraph langchain-openai pypdf faiss-cpu python-dotenv
```

### 问题2：API调用失败

检查：
- ✅ API密钥是否正确
- ✅ 网络连接是否正常
- ✅ DeepSeek服务是否可用

### 问题3：PDF加载失败

检查：
- ✅ 文件路径是否正确（使用绝对路径或正确的相对路径）
- ✅ PDF文件是否损坏
- ✅ 文件权限是否正常

### 问题4：提取不到数据

可能原因：
- PDF格式特殊（扫描版、图片版）
- 数字格式不标准
- 使用不同的会计术语

解决方案：
1. 使用 `search_financial_info` 工具手动检索
2. 在交互模式中直接提问
3. 手动输入数据进行分析

## 高级用法 🎓

### 自定义PDF路径

在交互模式中，可以分析任何PDF：

```python
请加载这个PDF：D:\documents\company_report_2024.pdf
```

### 连续对话

程序会记住对话历史，可以进行连续提问：

```python
您: 请加载财报.pdf
AI: [加载完成]

您: 营业收入是多少？
AI: [显示营业收入]

您: 和去年相比如何？
AI: [根据PDF中的数据进行对比]
```

### 组合分析

```python
您: 请加载财报.pdf
您: 提取营业收入、净利润和总资产
您: 基于这些数据分析盈利能力
您: 这个盈利能力在行业中处于什么水平？
```

## 下一步 ⏭️

1. 📖 阅读完整的 [README.md](README.md) 了解更多细节
2. 🔧 查看 [index.py](index.py) 源代码学习实现
3. 💡 运行 [example.py](example.py) 查看更多示例
4. 🎯 尝试分析你自己的财务报表

## 获取帮助 ❓

如有问题，可以：

1. 查看 README.md 的详细文档
2. 检查代码中的注释
3. 在交互模式中询问AI："你能做什么？"

祝使用愉快！ 🎉

